{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import'./Header.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Header(){const navigate=useNavigate();const location=useLocation();const[isLoggedIn,setIsLoggedIn]=useState(false);const[username,setUsername]=useState('');const[showProfileMenu,setShowProfileMenu]=useState(false);useEffect(()=>{checkLoginStatus();},[location]);const checkLoginStatus=async()=>{const token=localStorage.getItem('token');if(token){setIsLoggedIn(true);try{const response=await fetch('http://localhost:5001/api/users/profile',{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const data=await response.json();setUsername(data.username);}else{handleLogout();}}catch(error){console.error('Profil bilgileri alınamadı:',error);handleLogout();}}else{setIsLoggedIn(false);setUsername('');}};const handleLogout=()=>{localStorage.removeItem('token');setIsLoggedIn(false);setUsername('');navigate('/');};const scrollToSection=sectionId=>{if(window.location.pathname!=='/'){navigate('/');setTimeout(()=>{const element=document.getElementById(sectionId);if(element){const headerOffset=80;const elementPosition=element.getBoundingClientRect().top;const offsetPosition=elementPosition+window.pageYOffset-headerOffset;window.scrollTo({top:offsetPosition,behavior:'smooth'});}},100);}else{const element=document.getElementById(sectionId);if(element){const headerOffset=80;const elementPosition=element.getBoundingClientRect().top;const offsetPosition=elementPosition+window.pageYOffset-headerOffset;window.scrollTo({top:offsetPosition,behavior:'smooth'});}}};return/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:e=>{e.preventDefault();navigate('/');},children:\"LezzetKraft\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-menu\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:e=>{e.preventDefault();scrollToSection('hero');},children:\"Ana Sayfa\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#ozellikler\",onClick:e=>{e.preventDefault();scrollToSection('ozellikler');},children:\"\\xD6zellikler\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#hizmetler\",onClick:e=>{e.preventDefault();scrollToSection('hizmetler');},children:\"Hizmetler\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#hakkimizda\",onClick:e=>{e.preventDefault();scrollToSection('hakkimizda');},children:\"Hakk\\u0131m\\u0131zda\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#sss\",onClick:e=>{e.preventDefault();scrollToSection('sss');},children:\"SSS\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#ekip\",onClick:e=>{e.preventDefault();scrollToSection('ekip');},children:\"Ekip\"})}),isLoggedIn&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/siparislerim\",className:\"disabled\",children:\"Sipari\\u015Flerim\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-buttons\",children:isLoggedIn?/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile-button\",onClick:()=>setShowProfileMenu(!showProfileMenu),children:username}),showProfileMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profil Bilgileri\"}),/*#__PURE__*/_jsx(Link,{to:\"/siparislerim\",className:\"disabled\",children:\"Sipari\\u015Flerim\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"\\xC7\\u0131k\\u0131\\u015F Yap\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"login-button\",children:\"Giri\\u015F Yap\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"signup-button\",children:\"\\xDCye Ol\"})]})})]})});}export default Header;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","navigate","location","isLoggedIn","setIsLoggedIn","username","setUsername","showProfileMenu","setShowProfileMenu","checkLoginStatus","token","localStorage","getItem","response","fetch","headers","concat","ok","data","json","handleLogout","error","console","removeItem","scrollToSection","sectionId","window","pathname","setTimeout","element","document","getElementById","headerOffset","elementPosition","getBoundingClientRect","top","offsetPosition","pageYOffset","scrollTo","behavior","className","children","href","onClick","e","preventDefault","to"],"sources":["C:/Users/yusuf/Desktop/website/frontend-new/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport './Header.css';\r\n\r\nfunction Header() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\r\n\r\n  useEffect(() => {\r\n    checkLoginStatus();\r\n  }, [location]);\r\n\r\n  const checkLoginStatus = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      setIsLoggedIn(true);\r\n      try {\r\n        const response = await fetch('http://localhost:5001/api/users/profile', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setUsername(data.username);\r\n        } else {\r\n          handleLogout();\r\n        }\r\n      } catch (error) {\r\n        console.error('Profil bilgileri alınamadı:', error);\r\n        handleLogout();\r\n      }\r\n    } else {\r\n      setIsLoggedIn(false);\r\n      setUsername('');\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setIsLoggedIn(false);\r\n    setUsername('');\r\n    navigate('/');\r\n  };\r\n\r\n  const scrollToSection = (sectionId) => {\r\n    if (window.location.pathname !== '/') {\r\n      navigate('/');\r\n      setTimeout(() => {\r\n        const element = document.getElementById(sectionId);\r\n        if (element) {\r\n          const headerOffset = 80;\r\n          const elementPosition = element.getBoundingClientRect().top;\r\n          const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\r\n\r\n          window.scrollTo({\r\n            top: offsetPosition,\r\n            behavior: 'smooth'\r\n          });\r\n        }\r\n      }, 100);\r\n    } else {\r\n      const element = document.getElementById(sectionId);\r\n      if (element) {\r\n        const headerOffset = 80;\r\n        const elementPosition = element.getBoundingClientRect().top;\r\n        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\r\n\r\n        window.scrollTo({\r\n          top: offsetPosition,\r\n          behavior: 'smooth'\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <nav className=\"nav-container\">\r\n        <div className=\"logo\">\r\n          <a href=\"#\" onClick={(e) => {\r\n            e.preventDefault();\r\n            navigate('/');\r\n          }}>LezzetKraft</a>\r\n        </div>\r\n        <div className=\"nav-menu\">\r\n          <ul className=\"nav-links\">\r\n            <li><a href=\"#\" onClick={(e) => {\r\n              e.preventDefault();\r\n              scrollToSection('hero');\r\n            }}>Ana Sayfa</a></li>\r\n            <li><a href=\"#ozellikler\" onClick={(e) => {\r\n              e.preventDefault();\r\n              scrollToSection('ozellikler');\r\n            }}>Özellikler</a></li>\r\n            <li><a href=\"#hizmetler\" onClick={(e) => {\r\n              e.preventDefault();\r\n              scrollToSection('hizmetler');\r\n            }}>Hizmetler</a></li>\r\n            <li><a href=\"#hakkimizda\" onClick={(e) => {\r\n              e.preventDefault();\r\n              scrollToSection('hakkimizda');\r\n            }}>Hakkımızda</a></li>\r\n            <li><a href=\"#sss\" onClick={(e) => {\r\n              e.preventDefault();\r\n              scrollToSection('sss');\r\n            }}>SSS</a></li>\r\n            <li><a href=\"#ekip\" onClick={(e) => {\r\n              e.preventDefault();\r\n              scrollToSection('ekip');\r\n            }}>Ekip</a></li>\r\n            {isLoggedIn && (\r\n              <li><Link to=\"/siparislerim\" className=\"disabled\">Siparişlerim</Link></li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n        <div className=\"auth-buttons\">\r\n          {isLoggedIn ? (\r\n            <div className=\"profile-menu-container\">\r\n              <button \r\n                className=\"profile-button\"\r\n                onClick={() => setShowProfileMenu(!showProfileMenu)}\r\n              >\r\n                {username}\r\n              </button>\r\n              {showProfileMenu && (\r\n                <div className=\"profile-dropdown\">\r\n                  <Link to=\"/profile\">Profil Bilgileri</Link>\r\n                  <Link to=\"/siparislerim\" className=\"disabled\">Siparişlerim</Link>\r\n                  <button onClick={handleLogout}>Çıkış Yap</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <Link to=\"/login\" className=\"login-button\">Giriş Yap</Link>\r\n              <Link to=\"/register\" className=\"signup-button\">Üye Ol</Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}